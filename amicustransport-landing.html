<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AmicusTransport - Low-Carbon Airport Journeys</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/ionicons.min.css">
    <style>
        .ftco-section {
            margin-top: 96px;
        }
        .ftco_navbar {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: transform 0.3s ease-out;
            background-color: white !important;
        }
        .ftco_navbar.hidden-navbar {
            transform: translateY(-100%);
        }
        .hero-transport {
            background: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url('images/destination-5.jpg');
            background-size: cover;
            background-position: center;
            padding: 140px 0 80px;
            color: #fff;
        }
        .hero-transport h1 {
            margin-top: 1in;
        }
        .card-shadow {
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border: 0;
        }
        .metric-pill {
            display: inline-block;
            background: #0ea5a4;
            color: #fff;
            padding: 6px 12px;
            border-radius: 999px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .metric-pill.small {
            font-size: 0.85rem;
            padding: 6px 10px;
        }
        .emissions-list li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }
        .emissions-label {
            flex: 1 1 auto;
        }
        .emissions-value {
            flex: 0 0 auto;
            text-align: right;
        }
        .emissions-divider {
            border: 0;
            border-top: 1px solid #e6e6e6;
            margin: 12px 0 0;
        }
        .emissions-highlight {
            margin-top: 12px;
            font-weight: 600;
            color: #0ea5a4;
        }
        .form-control::placeholder {
            color: #b0b0b0;
        }
        select.form-control:invalid {
            color: #b0b0b0 !important;
            font-size: 0.9rem;
        }
        .form-control.placeholder-value {
            color: #b0b0b0 !important;
        }
        .form-control.placeholder-value:focus {
            color: #212529 !important;
        }
        .interactive-card {
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
        }
        .rail-options {
            border: 1px solid #e6e6e6;
            border-radius: 12px;
            padding: 18px;
            background: #fff;
        }
        .rail-options.hidden {
            display: none;
        }
        .rail-controls .form-control {
            height: calc(1.5em + .75rem + 2px);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light site-navbar-target" id="ftco-navbar">
        <div class="container">
            <div class="w-100 text-center">
                <h1 class="navbar-brand d-inline-block mb-3" style="font-size: 2rem; font-weight: 600; padding-bottom: 12px; background-image: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 10%22 preserveAspectRatio=%22none%22><path d=%22M 0 5 Q 25 0 50 5 T 100 5%22 stroke=%22black%22 stroke-width=%222%22 fill=%22none%22/></svg>'); background-position: bottom; background-repeat: repeat-x; background-size: 100px 8px;"><a href="index.html" style="color: inherit; text-decoration: none;">AmicusTransport</a></h1>
                <div style="width: 200px; height: 4px; background: linear-gradient(to right, transparent, #ccc, transparent); margin-bottom: 20px; margin-left: 0;"></div>
                <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="oi oi-menu"></span> Menu
                </button>

                <div class="collapse navbar-collapse" id="ftco-nav">
                    <ul class="navbar-nav nav">
                        <li class="nav-item"><a href="index.html#about-section" class="nav-link"><span>About</span></a></li>
                        <li class="nav-item"><a href="index.html#services-section" class="nav-link"><span>Services</span></a></li>
                        <li class="nav-item"><a href="index.html#destination-section" class="nav-link"><span>Destination</span></a></li>
                        <li class="nav-item"><a href="index.html#hotel-section" class="nav-link"><span>Hotels+Resorts+Villas</span></a></li>
                        <li class="nav-item"><a href="index.html#restaurant-section" class="nav-link"><span>AmicusAirports</span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <section class="hero-transport">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-lg-9">
                    <span class="subheading">Low-Carbon Airport Journeys</span>
                    <h1 class="mb-3" style="color:#fff;">Estimate Your Flight Emissions and Cut Them at the Airport</h1>
                    <p class="lead">AmicusTransport helps travelers and airports estimate passenger journey emissions and make decisions to lower-carbon impacts while traveling.</p>
                    <a href="#estimator" class="btn btn-primary px-4 py-3">For Passenger</a>
                    <a href="amicusairports-landing.html" class="btn btn-primary px-4 py-3 ml-2">For Airports</a>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section" id="estimator">
        <div class="container">
            <div class="row justify-content-center mb-4">
                <div class="col-lg-8 text-center">
                    <span class="subheading">Trip Emissions Estimator</span>
                    <h2 class="mb-3">Passenger Journey Calculator</h2>
                    <p>Estimate your full passenger journey with flight emissions, ground transport, and a 3-night hotel stay.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-7 mb-4">
                    <div class="card card-shadow p-4">
                        <form id="emissionsForm">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="fromAirport">Departure Airport (IATA)</label>
                                    <input type="text" class="form-control" id="fromAirport" placeholder="JFK" maxlength="3">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="toAirport">Arrival Airport (IATA)</label>
                                    <input type="text" class="form-control" id="toAirport" placeholder="LAX" maxlength="3">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="distanceKm">Flight Distance (miles)</label>
                                    <input type="number" class="form-control" id="distanceKm" value="0" min="0" step="10" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="cabinClass">Cabin Class</label>
                                    <select id="cabinClass" class="form-control" required>
                                        <option value="" selected disabled hidden>Choose from list</option>
                                        <option value="1">Economy</option>
                                        <option value="1.3">Premium Economy</option>
                                        <option value="1.8">Business</option>
                                        <option value="2.4">First</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="tripType">Trip Type</label>
                                    <select id="tripType" class="form-control" required>
                                        <option value="" selected disabled hidden>Choose from list</option>
                                        <option value="1">One-way</option>
                                        <option value="2">Round-trip</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="passengers">Passengers</label>
                                    <input type="number" class="form-control" id="passengers" value="0" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <div class="form-check" style="padding-top: 8px;">
                                        <input class="form-check-input" type="checkbox" id="includeTransfer">
                                        <label class="form-check-label" for="includeTransfer">Include transfer flight</label>
                                    </div>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="transferDistanceKm">Transfer Flight Distance (miles)</label>
                                    <input type="number" class="form-control" id="transferDistanceKm" value="0" min="0" step="10">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="groundDistanceKm">Ground Transport Distance (miles)</label>
                                    <input type="number" class="form-control" id="groundDistanceKm" value="0" min="0" step="1">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="groundMode">Ground Transport Mode</label>
                                    <select id="groundMode" class="form-control" required>
                                        <option value="" selected disabled hidden>Choose from list</option>
                                        <option value="rideshare">Taxi / Uber / Lyft</option>
                                        <option value="rideshareShared">Rideshare (Shared)</option>
                                        <option value="rental">Rental Car</option>
                                        <option value="bus">Bus</option>
                                        <option value="train">Train</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="hotelNights">Hotel Stay (nights)</label>
                                    <input type="number" class="form-control" id="hotelNights" value="0" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="includeNonCo2">
                                    <label class="form-check-label" for="includeNonCo2">Include non-CO2 effects (radiative forcing)</label>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Estimate Emissions</button>
                            <button type="reset" class="btn btn-outline-secondary ml-2">Reset</button>
                        </form>
                    </div>
                </div>
                <div class="col-lg-5 mb-4">
                    <div class="card card-shadow p-4">
                        <h4 class="mb-3">Estimated Emissions</h4>
                        <p class="mb-2">Total estimated journey impact:</p>
                        <div class="mb-3">
                            <span class="metric-pill" id="emissionsValue">0 metric tons CO2</span>
                        </div>
                        <ul class="list-unstyled mb-3 emissions-list">
                            <li class="mb-2">
                                <span class="emissions-label">Flight Emissions:</span>
                                <span id="flightEmissions" class="metric-pill small emissions-value">0 kg CO2e</span>
                            </li>
                            <li class="mb-2">
                                <span class="emissions-label">Ground transport (to/from airport):</span>
                                <span id="groundEmissions" class="metric-pill small emissions-value">0 kg CO2e</span>
                            </li>
                            <li class="mb-2">
                                <span class="emissions-label">Hotel stay (nights):</span>
                                <span id="hotelEmissions" class="metric-pill small emissions-value">0 kg CO2e</span>
                            </li>
                            <hr class="emissions-divider">
                            <div class="emissions-highlight" id="highestEmission"></div>
                        </ul>
                        <p class="small text-muted">Estimates are based on industry-average emissions factors and publicly available aviation, transport, and lodging data.</p>
                        <div class="mt-4">
                            <h5 class="mb-2">Quick Impact Reducers</h5>
                            <ul class="list-unstyled mb-0">
                                <li class="mb-2">✓ Choose rail or electric shuttles from the airport</li>
                                <li class="mb-2">✓ Share rides or use public transit for the last mile</li>
                                <li class="mb-2">✓ Book hotels with verified sustainability standards</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section" style="padding-top: 0.5in;">
        <div class="container">
            <div class="row justify-content-center mb-4">
                <div class="col-lg-8 text-center">
                    <span class="subheading">Lower-Carbon Connections</span>
                    <h2 class="mb-3">Nearby Airport Ground Transport</h2>
                    <p>We prioritize options that reduce tailpipe emissions and maximize shared capacity.</p>
                </div>
            </div>
            <div class="row" id="transportOptions">
                <div class="col-md-4 mb-4">
                    <div class="services text-center p-4 card-shadow interactive-card" id="railMetroCard">
                        <div class="icon d-flex justify-content-center align-items-center mb-3"><span class="ion-ios-train"></span></div>
                        <h4 class="mb-2">Rail + Metro</h4>
                        <p>Use airport rail links and metro lines for the lowest per-passenger emissions.</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="services text-center p-4 card-shadow">
                        <div class="icon d-flex justify-content-center align-items-center mb-3"><span class="ion-ios-bus"></span></div>
                        <h4 class="mb-2">Electric Shuttles</h4>
                        <p>Shared electric shuttles or coaches reduce emissions and congestion.</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="services text-center p-4 card-shadow">
                        <div class="icon d-flex justify-content-center align-items-center mb-3"><span class="ion-ios-car"></span></div>
                        <h4 class="mb-2">EV Ride Share</h4>
                        <p>Opt for electric or hybrid ride share with pooled trips where possible.</p>
                    </div>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-12">
                    <div class="rail-options hidden" id="railMetroOptions">
                        <h5 class="mb-2">Rail + Metro options</h5>
                        <p class="small text-muted mb-3" id="railMetroSubtitle">Select Rail + Metro to see options for your destination airport.</p>
                        <div class="row rail-controls">
                            <div class="col-md-4 mb-2">
                                <input type="text" class="form-control" id="railAirportSearch" placeholder="Destination airport (IATA, top 50 US)" list="usAirportList">
                                <datalist id="usAirportList"></datalist>
                            </div>
                            <div class="col-md-4 mb-2">
                                <select class="form-control" id="railOptionSelect">
                                    <option value="" selected disabled>Select rail + metro option</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="metric-pill small" id="railEstimate">Estimated: 0 kg CO2e</div>
                            </div>
                        </div>
                        <div class="row" id="railMetroList"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section bg-light">
        <div class="container">
            <div class="row justify-content-center mb-4">
                <div class="col-lg-8 text-center">
                    <span class="subheading">Stay Sustainably</span>
                    <h2 class="mb-3">Hotels with Verified Sustainability</h2>
                    <p>Reduce your travel footprint further by booking low-carbon, LEED-certified stays.</p>
                    <a href="sustainable-hotel-search.html" class="btn btn-primary px-4 py-3">Find Sustainable Hotels</a>
                </div>
            </div>
        </div>
    </section>


    <footer class="ftco-footer-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <h4 class="mb-4">Quick Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#services-section">Services</a></li>
                        <li><a href="amicustransport-landing.html">Airport Transport</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h4 class="mb-4">Contact</h4>
                    <p>Email: amicuservices@gmail.com</p>
                    <p>Phone: (555) 000-0001</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <p>&copy; 2026 AmicuServices. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        var lastScrollTop = 0;
        var navbar = $('.ftco_navbar');
        $(window).on('scroll', function() {
            var scrollTop = $(window).scrollTop();
            if (scrollTop > lastScrollTop) {
                navbar.addClass('hidden-navbar');
            } else {
                navbar.removeClass('hidden-navbar');
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        });

        var airportTransportMap = {
            JFK: [
                { icon: 'ion-ios-train', title: 'AirTrain + Subway', desc: 'Connect to NYC Subway for lower-impact transfers.' },
                { icon: 'ion-ios-bus', title: 'Electric Shuttle', desc: 'Shared shuttle services reduce per-passenger emissions.' },
                { icon: 'ion-ios-car', title: 'EV Ride Share', desc: 'Book electric or hybrid ride options to Manhattan.' }
            ],
            LAX: [
                { icon: 'ion-ios-bus', title: 'Metro Connector Shuttle', desc: 'Transfer to metro lines via airport connector services.' },
                { icon: 'ion-ios-car', title: 'EV Ride Share', desc: 'Request an EV for a cleaner ride to the city.' },
                { icon: 'ion-ios-train', title: 'Light Rail Link', desc: 'Use rail connections for a lower-carbon trip.' }
            ],
            LHR: [
                { icon: 'ion-ios-train', title: 'Elizabeth Line', desc: 'Fast rail service to central London with lower emissions.' },
                { icon: 'ion-ios-bus', title: 'Coach Services', desc: 'Shared coach options reduce per-passenger impact.' },
                { icon: 'ion-ios-car', title: 'EV Taxi', desc: 'Choose licensed electric taxis when available.' }
            ],
            CDG: [
                { icon: 'ion-ios-train', title: 'RER B Train', desc: 'Direct rail service into Paris with low emissions.' },
                { icon: 'ion-ios-bus', title: 'Airport Coach', desc: 'Shared coach services to major hubs.' },
                { icon: 'ion-ios-car', title: 'EV Ride Share', desc: 'Request electric vehicle options where available.' }
            ],
            SFO: [
                { icon: 'ion-ios-train', title: 'BART', desc: 'Bay Area Rapid Transit connects SFO to downtown San Francisco and the East Bay.' },
                { icon: 'ion-ios-train', title: 'MUNI', desc: 'San Francisco Muni Metro and buses connect the airport to city neighborhoods.' },
                { icon: 'ion-ios-car', title: 'EV Ride Share', desc: 'Choose EV ride share options where available.' }
            ]
        };

        var topUsAirports = [
            { code: 'ATL', name: 'Hartsfield–Jackson Atlanta International Airport' },
            { code: 'DFW', name: 'Dallas/Fort Worth International Airport' },
            { code: 'DEN', name: 'Denver International Airport' },
            { code: 'ORD', name: "O'Hare International Airport" },
            { code: 'LAX', name: 'Los Angeles International Airport' },
            { code: 'JFK', name: 'John F. Kennedy International Airport' },
            { code: 'CLT', name: 'Charlotte Douglas International Airport' },
            { code: 'LAS', name: 'Harry Reid International Airport' },
            { code: 'MCO', name: 'Orlando International Airport' },
            { code: 'MIA', name: 'Miami International Airport' },
            { code: 'PHX', name: 'Phoenix Sky Harbor International Airport' },
            { code: 'SEA', name: 'Seattle–Tacoma International Airport' },
            { code: 'SFO', name: 'San Francisco International Airport' },
            { code: 'EWR', name: 'Newark Liberty International Airport' },
            { code: 'IAH', name: 'George Bush Intercontinental Airport' },
            { code: 'BOS', name: 'Logan International Airport' },
            { code: 'MSP', name: 'Minneapolis–Saint Paul International Airport' },
            { code: 'FLL', name: 'Fort Lauderdale–Hollywood International Airport' },
            { code: 'LGA', name: 'LaGuardia Airport' },
            { code: 'DTW', name: 'Detroit Metropolitan Airport' },
            { code: 'PHL', name: 'Philadelphia International Airport' },
            { code: 'SLC', name: 'Salt Lake City International Airport' },
            { code: 'BWI', name: 'Baltimore/Washington International Airport' },
            { code: 'IAD', name: 'Washington Dulles International Airport' },
            { code: 'SAN', name: 'San Diego International Airport' },
            { code: 'DCA', name: 'Ronald Reagan Washington National Airport' },
            { code: 'TPA', name: 'Tampa International Airport' },
            { code: 'BNA', name: 'Nashville International Airport' },
            { code: 'AUS', name: 'Austin–Bergstrom International Airport' },
            { code: 'HNL', name: 'Daniel K. Inouye International Airport' },
            { code: 'MDW', name: 'Midway International Airport' },
            { code: 'DAL', name: 'Dallas Love Field' },
            { code: 'PDX', name: 'Portland International Airport' },
            { code: 'STL', name: 'St. Louis Lambert International Airport' },
            { code: 'RDU', name: 'Raleigh–Durham International Airport' },
            { code: 'HOU', name: 'William P. Hobby Airport' },
            { code: 'SMF', name: 'Sacramento International Airport' },
            { code: 'MSY', name: 'Louis Armstrong New Orleans International Airport' },
            { code: 'SJU', name: 'Luis Muñoz Marín International Airport' },
            { code: 'MCI', name: 'Kansas City International Airport' },
            { code: 'SJC', name: 'Norman Y. Mineta San José International Airport' },
            { code: 'SAT', name: 'San Antonio International Airport' },
            { code: 'RSW', name: 'Southwest Florida International Airport' },
            { code: 'SNA', name: 'John Wayne Airport' },
            { code: 'OAK', name: 'Oakland International Airport' },
            { code: 'IND', name: 'Indianapolis International Airport' },
            { code: 'CLE', name: 'Cleveland Hopkins International Airport' },
            { code: 'PIT', name: 'Pittsburgh International Airport' },
            { code: 'CVG', name: 'Cincinnati/Northern Kentucky International Airport' },
            { code: 'CMH', name: 'John Glenn Columbus International Airport' }
        ];

        var railMetroMap = {
            ATL: [
                { icon: 'ion-ios-train', title: 'MARTA Rail', desc: 'Red/Gold lines from the airport to Downtown, Midtown, and North Springs.' }
            ],
            DFW: [
                { icon: 'ion-ios-train', title: 'DART Orange Line', desc: 'Rail service to downtown Dallas and surrounding stations.' }
            ],
            DEN: [
                { icon: 'ion-ios-train', title: 'RTD A Line', desc: 'Rail service between DEN and Denver Union Station.' }
            ],
            ORD: [
                { icon: 'ion-ios-train', title: 'CTA Blue Line', desc: 'Direct rail service between O’Hare and Downtown Chicago.' }
            ],
            LAX: [
                { icon: 'ion-ios-train', title: 'LA Metro Rail (C Line)', desc: 'Connect via shuttle to Aviation/LAX Station for Metro Rail access.' }
            ],
            JFK: [
                { icon: 'ion-ios-train', title: 'AirTrain + Subway', desc: 'Connects to NYC Subway and Long Island Rail Road at Jamaica or Howard Beach.' }
            ],
            MIA: [
                { icon: 'ion-ios-train', title: 'Metrorail Orange Line', desc: 'Direct rail from MIA to Downtown Miami.' }
            ],
            PHX: [
                { icon: 'ion-ios-train', title: 'PHX Sky Train + Valley Metro', desc: 'Sky Train connects to Valley Metro Rail at 44th St/Washington.' }
            ],
            SEA: [
                { icon: 'ion-ios-train', title: 'Link Light Rail', desc: 'Direct light rail to Downtown Seattle and beyond.' }
            ],
            SFO: [
                { icon: 'ion-ios-train', title: 'BART', desc: 'Rail to San Francisco, East Bay, and Peninsula cities.' },
                { icon: 'ion-ios-train', title: 'MUNI', desc: 'Connect to San Francisco Muni via BART or bus links.' }
            ],
            EWR: [
                { icon: 'ion-ios-train', title: 'AirTrain + NJ Transit', desc: 'Rail connections to Newark Penn Station and NYC Penn Station.' }
            ],
            MSP: [
                { icon: 'ion-ios-train', title: 'Metro Blue Line', desc: 'Light rail to downtown Minneapolis and Mall of America.' }
            ],
            FLL: [
                { icon: 'ion-ios-train', title: 'Tri-Rail (via shuttle)', desc: 'Commuter rail from Fort Lauderdale station to Miami and West Palm Beach.' }
            ],
            PHL: [
                { icon: 'ion-ios-train', title: 'SEPTA Airport Line', desc: 'Regional rail to Center City Philadelphia.' }
            ],
            SLC: [
                { icon: 'ion-ios-train', title: 'TRAX Green Line', desc: 'Light rail to downtown Salt Lake City.' }
            ],
            BWI: [
                { icon: 'ion-ios-train', title: 'MARC / Amtrak (via shuttle)', desc: 'Rail connections from BWI Rail Station to Baltimore and Washington, DC.' }
            ],
            IAD: [
                { icon: 'ion-ios-train', title: 'Metro Silver Line', desc: 'Metrorail service to Washington, DC.' }
            ],
            DCA: [
                { icon: 'ion-ios-train', title: 'Metro Blue / Yellow Lines', desc: 'Direct Metrorail access to Washington, DC.' }
            ],
            MDW: [
                { icon: 'ion-ios-train', title: 'CTA Orange Line', desc: 'Rail to Downtown Chicago (Loop).' }
            ],
            DAL: [
                { icon: 'ion-ios-train', title: 'DART Green/Orange Lines', desc: 'Connect via Love Field shuttle to Inwood/Love Field Station.' }
            ],
            PDX: [
                { icon: 'ion-ios-train', title: 'MAX Red Line', desc: 'Light rail to Downtown Portland and Beaverton.' }
            ],
            STL: [
                { icon: 'ion-ios-train', title: 'MetroLink Red Line', desc: 'Light rail to Downtown St. Louis.' }
            ],
            OAK: [
                { icon: 'ion-ios-train', title: 'BART (Airport Connector)', desc: 'Direct rail connection to Coliseum Station and the BART network.' }
            ],
            CLE: [
                { icon: 'ion-ios-train', title: 'RTA Red Line', desc: 'Rail service to downtown Cleveland.' }
            ]
        };

        function populateAirportDatalist() {
            var datalist = document.getElementById('usAirportList');
            if (!datalist) {
                return;
            }
            datalist.innerHTML = topUsAirports.map(function(airport) {
                return '<option value="' + airport.code + '">' + airport.code + ' — ' + airport.name + '</option>';
            }).join('');
        }

        var currentArrivalAirport = '';

        function renderTransportOptions(airportCode) {
            var list = airportTransportMap[airportCode] || [
                { icon: 'ion-ios-train', title: 'Rail + Metro', desc: 'Use airport rail links and metro lines for the lowest per-passenger emissions.' },
                { icon: 'ion-ios-bus', title: 'Electric Shuttles', desc: 'Shared electric shuttles or coaches reduce emissions and congestion.' },
                { icon: 'ion-ios-car', title: 'EV Ride Share', desc: 'Opt for electric or hybrid ride share with pooled trips where possible.' }
            ];

            var container = document.getElementById('transportOptions');
            container.innerHTML = list.map(function(item) {
                return (
                    '<div class="col-md-4 mb-4">' +
                        '<div class="services text-center p-4 card-shadow">' +
                            '<div class="icon d-flex justify-content-center align-items-center mb-3"><span class="' + item.icon + '"></span></div>' +
                            '<h4 class="mb-2">' + item.title + '</h4>' +
                            '<p>' + item.desc + '</p>' +
                        '</div>' +
                    '</div>'
                );
            }).join('');
        }

        function renderRailMetroOptions(airportCode) {
            var railList = railMetroMap[airportCode] || [];
            var container = document.getElementById('railMetroList');
            var subtitle = document.getElementById('railMetroSubtitle');
            var select = document.getElementById('railOptionSelect');

            if (!airportCode) {
                subtitle.textContent = 'Enter a destination airport and calculate to see rail + metro options.';
                container.innerHTML = '';
                select.innerHTML = '<option value="" selected disabled>Select rail + metro option</option>';
                return;
            }

            if (railList.length === 0) {
                subtitle.textContent = 'No rail or metro options listed for ' + airportCode + ' yet.';
                container.innerHTML = '';
                select.innerHTML = '<option value="" selected disabled>No rail + metro options</option>';
                return;
            }

            subtitle.textContent = 'Options for ' + airportCode + ':';
            select.innerHTML = '<option value="" selected disabled>Select rail + metro option</option>' +
                railList.map(function(item, index) {
                    return '<option value="' + index + '">' + item.title + '</option>';
                }).join('');
            container.innerHTML = railList.map(function(item) {
                return (
                    '<div class="col-md-6 mb-3">' +
                        '<div class="services text-left p-3 card-shadow">' +
                            '<div class="d-flex align-items-center mb-2">' +
                                '<span class="mr-2 ' + item.icon + '"></span>' +
                                '<strong>' + item.title + '</strong>' +
                            '</div>' +
                            '<p class="mb-0 small text-muted">' + item.desc + '</p>' +
                        '</div>' +
                    '</div>'
                );
            }).join('');
        }

        function updateRailEstimate() {
            var select = document.getElementById('railOptionSelect');
            var estimateEl = document.getElementById('railEstimate');
            var groundDistanceMiles = parseFloat(document.getElementById('groundDistanceKm').value || 0);
            if (!select.value) {
                estimateEl.textContent = 'Estimated: 0 kg CO2e';
                return;
            }
            var railKgPerKm = 0.04;
            var milesToKm = 1.60934;
            var railKg = groundDistanceMiles * milesToKm * railKgPerKm;
            estimateEl.textContent = 'Estimated: ' + railKg.toFixed(0) + ' kg CO2e';
        }

        function calculateEmissions() {
            var distanceMiles = parseFloat(document.getElementById('distanceKm').value || 0);
            var transferDistanceMiles = parseFloat(document.getElementById('transferDistanceKm').value || 0);
            var includeTransfer = document.getElementById('includeTransfer').checked;
            var cabinMultiplier = parseFloat(document.getElementById('cabinClass').value);
            var tripMultiplier = parseFloat(document.getElementById('tripType').value);
            var passengers = parseInt(document.getElementById('passengers').value || 1, 10);
            var includeNonCo2 = document.getElementById('includeNonCo2').checked;
            var groundDistanceMiles = parseFloat(document.getElementById('groundDistanceKm').value || 0);
            var groundMode = document.getElementById('groundMode').value;
            var hotelNights = parseInt(document.getElementById('hotelNights').value || 0, 10);

            var milesToKm = 1.60934;
            var distance = distanceMiles * milesToKm;
            var transferDistance = transferDistanceMiles * milesToKm;
            var groundDistance = groundDistanceMiles * milesToKm;

            var factor;
            if (distance < 1500) {
                factor = 0.255;
            } else if (distance < 3500) {
                factor = 0.195;
            } else {
                factor = 0.150;
            }

            var totalAirDistance = distance + (includeTransfer ? transferDistance : 0);
            var baseKg = totalAirDistance * factor;
            var nonCo2Multiplier = includeNonCo2 ? 1.9 : 1;
            var flightKg = baseKg * cabinMultiplier * tripMultiplier * passengers * nonCo2Multiplier;

            var groundFactorMap = {
                rideshare: 0.21,
                rideshareShared: 0.14,
                rental: 0.24,
                bus: 0.09,
                train: 0.04
            };
            var groundFactor = groundFactorMap[groundMode] || 0.21;
            var groundTransportKg = groundDistance * groundFactor * tripMultiplier * passengers;
            var hotelPerNightKg = 45;
            var hotelStayKg = hotelNights * hotelPerNightKg * passengers;
            var total = flightKg + groundTransportKg + hotelStayKg;

            var highestLabel = 'Flight emissions';
            var highestValue = flightKg;
            if (groundTransportKg > highestValue) {
                highestLabel = 'Ground transport';
                highestValue = groundTransportKg;
            }
            if (hotelStayKg > highestValue) {
                highestLabel = 'Hotel stay';
            }

            var totalTons = total / 1000;

            document.getElementById('emissionsValue').textContent = totalTons.toFixed(2) + ' metric tons CO2';
            document.getElementById('flightEmissions').textContent = flightKg.toFixed(0) + ' kg CO2e';
            document.getElementById('groundEmissions').textContent = groundTransportKg.toFixed(0) + ' kg CO2e';
            document.getElementById('hotelEmissions').textContent = hotelStayKg.toFixed(0) + ' kg CO2e';
            document.getElementById('highestEmission').textContent = 'Greatest impact: ' + highestLabel;
            document.getElementById('journeyTotal').textContent = (total / 1000).toFixed(1) + ' metric tons CO2';
        }

        document.getElementById('emissionsForm').addEventListener('submit', function(event) {
            event.preventDefault();
            calculateEmissions();
            var arrival = (document.getElementById('toAirport').value || '').toUpperCase();
            currentArrivalAirport = arrival;
            renderTransportOptions(arrival);
        });

        document.getElementById('railMetroCard').addEventListener('click', function() {
            var optionsBox = document.getElementById('railMetroOptions');
            optionsBox.classList.remove('hidden');
            renderRailMetroOptions(currentArrivalAirport);
        });

        document.getElementById('railAirportSearch').addEventListener('change', function() {
            var code = (this.value || '').toUpperCase();
            var isValid = topUsAirports.some(function(airport) {
                return airport.code === code;
            });
            currentArrivalAirport = isValid ? code : '';
            renderRailMetroOptions(currentArrivalAirport);
        });

        document.getElementById('railOptionSelect').addEventListener('change', function() {
            updateRailEstimate();
        });

        document.getElementById('groundDistanceKm').addEventListener('input', function() {
            updateRailEstimate();
        });

        var zeroPlaceholderFields = ['distanceKm', 'passengers', 'transferDistanceKm', 'groundDistanceKm', 'hotelNights'];

        function updateZeroPlaceholderStyle(fieldId) {
            var field = document.getElementById(fieldId);
            if (!field) {
                return;
            }
            if (field.value === '0') {
                field.classList.add('placeholder-value');
            } else {
                field.classList.remove('placeholder-value');
            }
        }

        function applyZeroPlaceholderStyles() {
            zeroPlaceholderFields.forEach(function(fieldId) {
                updateZeroPlaceholderStyle(fieldId);
            });
        }

        zeroPlaceholderFields.forEach(function(fieldId) {
            var field = document.getElementById(fieldId);
            if (!field) {
                return;
            }
            updateZeroPlaceholderStyle(fieldId);
            field.addEventListener('input', function() {
                updateZeroPlaceholderStyle(fieldId);
            });
            field.addEventListener('change', function() {
                updateZeroPlaceholderStyle(fieldId);
            });
        });

        document.getElementById('emissionsForm').addEventListener('reset', function() {
            setTimeout(function() {
                document.getElementById('fromAirport').value = '';
                document.getElementById('toAirport').value = '';
                document.getElementById('distanceKm').value = '0';
                document.getElementById('cabinClass').value = '';
                document.getElementById('tripType').value = '';
                document.getElementById('passengers').value = '0';
                document.getElementById('includeTransfer').checked = false;
                document.getElementById('transferDistanceKm').value = '0';
                document.getElementById('groundDistanceKm').value = '0';
                document.getElementById('groundMode').value = '';
                document.getElementById('hotelNights').value = '0';
                document.getElementById('includeNonCo2').checked = false;
                document.getElementById('emissionsValue').textContent = '0 metric tons CO2';
                document.getElementById('flightEmissions').textContent = '0 kg CO2e';
                document.getElementById('groundEmissions').textContent = '0 kg CO2e';
                document.getElementById('hotelEmissions').textContent = '0 kg CO2e';
                document.getElementById('highestEmission').textContent = '';
                document.getElementById('journeyTotal').textContent = '--';
                applyZeroPlaceholderStyles();
                document.getElementById('distanceKm').classList.add('placeholder-value');
                document.getElementById('passengers').classList.add('placeholder-value');
                currentArrivalAirport = '';
                document.getElementById('railMetroOptions').classList.add('hidden');
                document.getElementById('railAirportSearch').value = '';
                document.getElementById('railOptionSelect').innerHTML = '<option value="" selected disabled>Select rail + metro option</option>';
                document.getElementById('railEstimate').textContent = 'Estimated: 0 kg CO2e';
            }, 0);
        });

        populateAirportDatalist();
        applyZeroPlaceholderStyles();
    </script>
</body>
</html>
